# sketches_black_white 黑和白的舞蹈

用Processing 4.3.2 写的一些关于黑和白的舞蹈的简陋代码。

## 目前代码

- black_white.pde：黑和白的舞蹈
- base_3.pde：第三进制
- base_4.pde：四进制的情形
- random_black_white.pde：随机
- complementary.pde：互补
- transposition.pde：转置
- static_images.pde：静态图形
- static_T.pde：静态图形转置

- multiple_1.pde：整数倍
- multiple_2.pde：整数倍加上常数项
- quadratic_1.pde：二次方
- quadratic_2.pde：二次方的整数倍
- quadratic_3.pde：二次函数 $ a_2n^2+a_1n+a_0 $
- exponential_1.pde：指数函数 $ p ^ n $

### 第三颜色系列

- grey.pde：灰色
- color_3.pde：第三颜色
- color_3_random.pde：随机第三颜色

- grey_T.pde：灰色，转置
- color_3_T.pde：第三颜色，转置
- color_3_random_T.pde：随机第三颜色，转置

## 代码简介

### 黑和白的舞蹈

从左往右，从上往下，每一行都是一个一次加1的二进制数的最后若干位  
1对应黑色，0对应白色  
　也可以设置不同颜色  
画满一列之后就隔一定间隔另起一列继续画  
画满屏幕之后从左上角接着画  
这里不清零，后面画的图形会覆盖已有的图形  
其余没有绘制的部分保持背景颜色，不足位数不用0填充  
这里不把得到的二进制数无论多少位都画满  
也不一定非要从0开始  
　如果想从一个正数开始  
　只要设置offset大于0  
可以保存画出的图形  

得到的结果像不像黑和白的舞蹈？  
　每一列最左边都是复杂精致有规律的细节  
　从左往右每一位的周期加倍  
　　使得在重复中又总是有所不同  
　　直到较长周期之后才会重复之前图案  
　右侧形成了大大小小像三角形的区域  
　　三角形的边像两侧伸展弯曲逐渐变得竖直  
　每个三角形上半部分黑下半部分白  
　　而右侧又是那么整齐  
　若图案行数合适  
　　水平方向就像三角形的整齐排列  
　　各列成了相同数量一块一块区域  
　　每一块区域大小高度相同  
　　整齐排列  
　　大三角形沿斜线排列  
　黑色部分就像竖直的毛发  
　　嵌入图案  
　每一条连续的竖直黑线  
　　左侧直到最小的细节  
　　都是上下黑白对称的  
　　0对应1  
　　1对应0  
　　增加对应减少  
　　而这一条竖直黑线  
　　也对应于更大周期的白线  
　图案更新时  
　　左侧部分被轻轻跳过  
　　跳过宽度由图案行数决定  
　　右侧部分被刷新，黑白交错出现  
　而不同大小的三角形只是换了个地方出现  
　快到画出的最高位进位时  
　　黑色线条更多  
　　黑色更密  
　　直到最后一行  
　　填满整个间隙  
　进位之后  
　　则是白色填满整行  
　　白色更多  
　　然后再逐渐加灰加黑  
　较高进位黑白类似变化  
　　先是黑色更多  
　　直至局部填满  
　　然后白色取代黑色填满的区域  
　　黑色则再次逐渐增加  
　　只是变化程度稍小  
　黑白错落有致  
　　恰似黑和白的舞蹈  

改变背景颜色可以实现不同视觉效果  
　直到填满为止  
尽管画满之后在更新的过程中多出的位数会带来不同的视觉效果  
其实设置不同宽度高度可以实现不尽相同的效果  

### 第三进制

改变进制实现不同视觉效果  
从左往右，从上往下，每一行都是一数字最后若干位  
　这个数字以第三进制表示，每行比上一行恰好多出1  
1对应黑色，0对应白色  
　也可以设置不同颜色  
画满一列之后就隔一定间隔另起一列继续画  
画满屏幕之后从左上角接着画  
这里不清零，后面画的图形会覆盖已有的图形  
其余没有绘制的部分保持背景颜色，不足位数不用0填充  
这里不把无论多少位都画满  
也不一定非要从0开始  
　如果想从一个正数开始  
　只要设置offset大于0  
可以保存画出的图形  

得到的结果像不像黑和白的舞蹈？  
　每一列最左边都是复杂精致有规律的细节  
　从左往右每一位的周期增加  
　　使得在重复中又总是有所不同  
　　直到较长周期之后才会重复之前图案  
　第三进制下  
　　有几进制对应颜色方案就有2的几次方种  
　　从全0到全1  
　　分别对应一个二进制数  
　　依次画出又是黑和白的舞蹈  
　　只要每一位都能表现出来  
　你可以任选一种方案  
　　全0都是白色全1都是黑色  
　　01都有则开始出现复杂细节  
　　0越多颜色越白越浅  
　　1越多颜色越黑越深  
　001加长版大小三角形  
　　上白下黑  
　　与二进制情形类似而有所不同  
　　黑三角形边缘仍然整齐但是边缘更长  
　　　间有大小不等小三角形  
　　　小三角形连同其中所有更小的三角形  
　　　直到单个格子都总会重复出现  
　　　大三角形重复间距较远  
　　白色部分边缘不再整齐  
　　黑白仍然互补对称  
　　　而对称白部正是小三角形总是又一次出现  
　010上下对称黑色三角  
　　稀疏而错落有致  
　　就像竖置山川  
　　　山脚大而山峰小  
　　又像竖置圆盘塔  
　　　只是每一级圆盘都是上一级三倍直径  
　　又像指向左侧的黑色标记  
　　　只是边缘两侧扩张  
　　竖排小三角又像稀疏整齐横向错开的小球  
　　　旁边若隐若现黑色点缀  
　　你若远观而非近看  
　　　黑色较密集的区域  
　　　又好像竖式条纹斑块稍有右倾  
　　　大斑块越接近中心颜色越深  
　　　旁边不乏小斑块  
　　　白色较稀疏的区域  
　　　则似另一种不同斑块  
　　　或者以稍右偏纵向连在一起  
　011加长版大小三角形  
　　还是上白下黑  
　　类似001的情形  
　　但是黑白互换上下互换  
　　正如001取01互换成110  
　　再左右互换得到011  
　100，101，110黑白互补  
　　通过0、1互换取反码  
　　001变成110  
　　010变成101  
　　011变成100  
　　对应的图像  
　　除了背景色以外  
　　都实现了黑白互补  
　　原黑色格子全是白色  
　　原白色格子全是黑色  
　黑白错落有致  
　　恰似黑和白的舞蹈  

改变背景颜色可以实现不同视觉效果  
　直到填满为止  
尽管画满之后在更新的过程中多出的位数会带来不同的视觉效果  
其实设置不同宽度高度可以实现不尽相同的效果  

#### 四进制的情形

类似于第三进制，只是base=4而且取不同格子大小等。示例图片中有不同间距的情形。

### 随机

几乎所有的主要参数都是随机的。  
相应的视觉效果也是随机出现。  
可能全白或全黑或者只有最左边的一列，详见示例图片。  
调整随机参数取值范围可以调整各种可能视觉效果出现概率。  

### 互补

之前的代码中，1对应黑色0对应白色。  
如果1对应白色0对应黑色，那么画出的每个像素点的颜色恰好翻转。  
如果数值到颜色的映射对应的二进制数字按位取反，那么每个像素点的颜色还是恰好翻转。  
在没有空格子的地方，二进制按位取反与交换0、1颜色效果相同。  

新增键盘交互方式：  
按下数字1键按位取反  
按下数字2键交换0、1颜色  
查看控制台的信息和视觉效果的变化  
比较两种不同方式是否有差异  

### 转置

就像行列式和矩阵的转置一样，把每个格子的行列下标或横纵坐标互换。  
原来的代码，二进制数字是一行对应一个，竖着排列，有多列，刷新是从上往下；  
转置之后，二进制数字是一列对应一个，横着排列，有多行，刷新是从左往右。  
与原来的代码相比  
所有涉及行列的变量名称都互换，即width与height互换，cellWidth与cellHeight互换，  
所有直接画图形的函数传参行列互换，这里把rect()中的横纵坐标参数位置互换，宽度和高度参数位置互换。  

### 静态图形

之前的代码都是一行一行（一列一列）地动态刷新  
现在不动态刷新，直接画满整个画布再显示  
点击鼠标左键更新画布  
点击鼠标右键保存图形  
能得到原来画满再保存得到的图形  
不能得到画到一半的效果  
但是画的更快  

### 静态图形转置

在静态图形的基础上，把每个格子的行列下标（横纵坐标）互换  
得到静态图形的转置图形  

### 整数倍 $pn$

black_white.pde是一次加1  
现在一次加p  
也可以认为是p的整数倍取二进制  
当p是偶数时最低若干位不会变  
原来是0则一直是0  
从而只需考虑p是奇数的情形  

offset的作用是方便看很后面的值  

考虑p的二进制形式和画出的相应图形  
高位部分像是p=1的黑和白的舞蹈形式  
低位部分因p的不同不尽相同  
似乎p的二进制形式中的单独一个1更高位跟着一串0  
对应一列p=1的黑和白的舞蹈形式最后几列  
一串1  
对应p=1的黑和白的舞蹈的互补形式最后几列  
0和1的交错出现  
则在黑白交错之间  
隐藏一个  
p=1的黑和白的舞蹈形式最后几列  
通过窄长格子能看出101010...对应的隐藏形式  
而100100100...等形式更加隐蔽相对更难看出  

#### 加上常数项 $pn + a_0$

先取p倍，加上a0，再取二进制  

offset的作用是方便看很后面的值  

如果a0大于等于p  
不妨设 $a_0 = n_1p + n_2$ ，其中 $n1 >= 1$，$0 <= n2 < p$，  
则 $pn + a_0 = pn + n_1p + n_2 = p(n + n_1) + n_2$  
相当于n加了一个值  
故只需考虑a0小于p的情形  

### 二次函数 $ a_2n^2+a_1n+a_0 $

二次方及其整数倍 $ pn^2 $  

p取1的情形对应quadratic_1.pde  
p随机取正奇数值对应quadratic_2.pde  

只需考虑p取奇数情形  

二次项一次项常数项都有的情形对应quadratic_3.pde  

先计算n的二次函数值  
再取二进制    
offset的作用是可以直接看很后面的  
  
调用`java.math.BigInteger`计算更大的整数以免溢出 

### 指数函数 $ p ^ n $

目前只有exponential_1.pde先计算指数函数再取二进制
 
指数计算得到数字比较大有可能一列画不下只能画出最后几百位  
为了区分，背景不用白色  
offset的作用是可以直接看很后面的
 
只用考虑p不是2的幂的情形

初步观察的一些猜测：  
当p是2的幂的时候每一行只有一个格子涂黑  
p是偶数但是不是2的幂出现空白部分和看起来很复杂的黑白错部分  
p是大于1的奇数出现看起来很复杂的黑白交错部分  
p等于3会出现许多黑色的，白色的小三角形区域  
p等于2的幂加1时，会分成不同列，每列从左到右分别对应常数1，一次项，三角形数部分，四面体数部分等，中间是空白，直到两列相遇，分别对应杨辉三角斜线系数  
其中，一次项即常规的黑和白的舞蹈图形，二次项即quadratic_3.pde中a2=a1=1（注意是BigInteger）忽略空白列的图形，其余更高次幂暂时没有画出来  
p等于2的幂减1时也有很多列，但是不是常规图形，中间是横条纹，直到两列相遇，没看出其他的规律  

调用java.math.BigInteger计算更大的整数以免溢出

### 第三颜色系列

#### 灰色

背景颜色，0对应的颜色，1对应的颜色是随机的黑白灰  
按下1键或2键实现互补的视觉效果  

#### 第三颜色

指定进制各数码的值从小到大分别对应从白到黑等间距变深的灰色。  
从三进制开始出现灰色。  
例如，三进制时，三个数码0，1，2分别对应255，127.5，0三种颜色  
四进制时，四个数码0，1，2，3分别对应255，170，85，0四种颜色  
而36进制时，36个不同的数码0，1，2，3，...，36分别对应255，247.71428，240.42857，233.14285，...，0一共36种不同颜色  

目前没有相应的互补效果  

#### 随机第三颜色

各数码值分别对应随机灰色  
背景颜色也是随机灰色  

目前没有相应的互补效果  

#### 转置

名称后面有`_T`的代码  
画出的图形是没有`_T`对应代码的图形的转置  

在原有图形的基础上  
把每个格子的行列下标（横纵坐标）互换  
得到相应的转置图形  

## 主要参数

默认画布尺寸400x800，400x800格。可以调整画布尺寸实现不同视觉效果。  

- cellWidth：格子宽度  
- cellHeight：格子高度  
- maxNumber：最大数位数  
- distance：相邻两列左侧之间距离  
- offset：初始数值，不要接近或超过2147483647以免出现负数  

对于base_3.pde等，还有参数：  

- base：进制，一般支持2到36。不要超过36否则变成十进制  
- colorString：颜色对应的字符串，最左边是最大的数字对应的颜色，最右边是0对应的颜色  

从color_3.pde开始，没有colorString参数。  

从multiple_1.pde开始，计算方式改变，新增计算公式中的参数，详见相应代码。

可以尝试调整这些参数实现不同视觉效果。  

## 运行方式

请先从Processing官网下载安装Processing 4（如果之前没有安装过）：  

[https://processing.org/download](https://processing.org/download)  

从这里找Processing 4 的特定版本：  

[https://github.com/processing/processing4/releases](https://github.com/processing/processing4/releases)

装好了吗？在本仓库主页下载代码或者克隆仓库：每个文件夹里面都有一份.pde文件和不尽相同的示例图形。打开.pde文件，用Processing 4 打开运行即可。

点击鼠标左键可以暂停，再点击鼠标左键恢复运行。点击鼠标右键保存图形。除了画静态图形的static_images.pde和static_T.pde以外，不点击鼠标，每画满一张图都自动保存一次。在控制台查看有关信息。  

从complementary.pde起，到第三颜色系列的grey.pde和grey_T.pde，可以按1键或2键看原图形与互补图形对比的效果。  

color_3_random.pde和color_3_random_T.pde，按1键随机更换颜色。  
